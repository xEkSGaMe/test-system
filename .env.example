# ============================================
# Конфигурация системы тестирования
# ============================================

# Безопасность: НИКОГДА не коммитьте этот файл с реальными значениями!
# Создайте копию .env и заполните реальными данными

# ============================================
# БАЗЫ ДАННЫХ
# ============================================

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=test_system
POSTGRES_USER=admin
POSTGRES_PASSWORD=admin123
DATABASE_URL=postgres://admin:admin123@localhost:5432/test_system

# MongoDB
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DB=test_system
MONGO_USER=admin
MONGO_PASSWORD=admin123
MONGO_URL=mongodb://admin:admin123@localhost:27017/test_system

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_URL=redis://:redis123@localhost:6379/0

# ============================================
# JWT ТОКЕНЫ И БЕЗОПАСНОСТЬ
# ============================================

# Секретный ключ для JWT токенов (минимум 32 символа)
# Сгенерировать: openssl rand -hex 32
JWT_SECRET_KEY=ваш_секретный_ключ_минимум_32_символа_здесь_измените_это
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ALGORITHM=HS256

# Соль для хэширования
PASSWORD_SALT=ваша_соль_для_хэширования_измените_это

# CORS настройки
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================
# TELEGRAM БОТ
# ============================================

# Токен бота от @BotFather
TELEGRAM_BOT_TOKEN=ваш_токен_бота_telegram_здесь

# Webhook URL (если используете webhooks)
TELEGRAM_WEBHOOK_URL=https://ваш_домен.ру/telegram-webhook
TELEGRAM_WEBHOOK_SECRET=секрет_для_вебхука

# Настройки опроса (если используете polling)
TELEGRAM_POLLING_INTERVAL=1
TELEGRAM_POLLING_TIMEOUT=10

# ============================================
# OAuth ПРОВАЙДЕРЫ
# ============================================

# GitHub OAuth
GITHUB_CLIENT_ID=ваш_github_client_id_здесь
GITHUB_CLIENT_SECRET=ваш_github_client_secret_здесь
GITHUB_CALLBACK_URL=http://localhost:8081/auth/github/callback

# Yandex OAuth
YANDEX_CLIENT_ID=ваш_yandex_client_id_здесь
YANDEX_CLIENT_SECRET=ваш_yandex_client_secret_здесь
YANDEX_CALLBACK_URL=http://localhost:8081/auth/yandex/callback

# ============================================
# НАСТРОЙКИ СЕРВЕРОВ
# ============================================

# Веб-клиент (React)
WEB_CLIENT_PORT=3000
WEB_CLIENT_HOST=localhost
REACT_APP_API_URL=http://localhost:8081

# Сервис авторизации
AUTH_SERVICE_PORT=8081
AUTH_SERVICE_HOST=0.0.0.0

# Главный модуль
CORE_SERVICE_PORT=8082
CORE_SERVICE_HOST=0.0.0.0

# Nginx
NGINX_PORT=80
NGINX_SSL_PORT=443

# ============================================
# НАСТРОЙКИ ПРИЛОЖЕНИЯ
# ============================================

# Режим работы (development/production)
NODE_ENV=development

# Логирование
LOG_LEVEL=info
LOG_FORMAT=json

# Лимиты запросов
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# Настройки сессий
SESSION_SECRET=секрет_для_сессий_измените_это
SESSION_MAX_AGE=86400000  # 24 часа в миллисекундах

# Настройки кодов подтверждения
CONFIRMATION_CODE_LENGTH=6
CONFIRMATION_CODE_EXPIRE_MINUTES=5

# ============================================
# ТЕСТОВЫЕ ДАННЫЕ
# ============================================

# Флаг для загрузки тестовых данных
LOAD_TEST_DATA=true

# Тестовые пользователи (только для разработки!)
TEST_ADMIN_EMAIL=admin@example.com
TEST_ADMIN_PASSWORD=admin123
TEST_TEACHER_EMAIL=teacher@example.com
TEST_TEACHER_PASSWORD=teacher123
TEST_STUDENT_EMAIL=student@example.com
TEST_STUDENT_PASSWORD=student123

# ============================================
# МОНИТОРИНГ И ОПОВЕЩЕНИЯ
# ============================================

# Sentry для отслеживания ошибок
SENTRY_DSN=ваш_sentry_dsn_здесь

# Email для уведомлений
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=ваш_email@gmail.com
SMTP_PASSWORD=ваш_пароль_приложения
SMTP_FROM=noreply@testsystem.ru

# ============================================
# ДЕПЛОЙ И ДОКЕР
# ============================================

# Имена Docker образов
DOCKER_REGISTRY=ваш_репозиторий
AUTH_SERVICE_IMAGE=auth-service:latest
WEB_CLIENT_IMAGE=web-client:latest
CORE_SERVICE_IMAGE=core-service:latest
TELEGRAM_BOT_IMAGE=telegram-bot:latest

# ============================================
# ПРИМЕЧАНИЯ:
# ============================================
# 1. Все пароли и секретные ключи должны быть изменены!
# 2. Для продакшена используйте разные значения для каждого окружения
# 3. Никогда не коммитьте .env файл с реальными значениями в Git
# 4. Используйте .env.example как шаблон